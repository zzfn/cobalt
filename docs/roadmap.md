# é¡¹ç›®è·¯çº¿å›¾

## æ¦‚è¿°

Cobalt æ˜¯ä¸€ä¸ªåŸºäº Tauri çš„æ¡Œé¢åº”ç”¨ï¼Œç”¨äºå¯è§†åŒ–ç®¡ç† Claude Code çš„é…ç½®æ–‡ä»¶å’Œ Skillsã€‚

**æ ¸å¿ƒä»·å€¼ï¼š**
- ç®€åŒ– Claude Code é…ç½®ç®¡ç†ï¼Œé™ä½ä½¿ç”¨é—¨æ§›
- æä¾›å‹å¥½çš„å›¾å½¢ç•Œé¢ï¼Œæ›¿ä»£å‘½ä»¤è¡Œæ“ä½œ
- ç»Ÿä¸€ç®¡ç†é…ç½®æ–‡ä»¶ã€Skillsã€æ’ä»¶ç­‰èµ„æº

## å½“å‰çŠ¶æ€

- âœ… é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼ˆTauri 2 + React 19 + TypeScriptï¼‰
- âœ… å®Œæˆéœ€æ±‚è°ƒç ”å’Œæ¶æ„è®¾è®¡
- ğŸ“‹ å‡†å¤‡å¼€å§‹å®ç°æ ¸å¿ƒåŠŸèƒ½

## çŸ­æœŸç›®æ ‡ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰

### 1.1 Rust åç«¯åŸºç¡€æ¶æ„
- [ ] åˆ›å»ºå‘½ä»¤æ¨¡å—ç»“æ„ï¼ˆ`commands/mod.rs`, `config.rs`, `skills.rs`ï¼‰
- [ ] å®ç°é…ç½®æ–‡ä»¶è¯»å†™å‘½ä»¤
  - [ ] `get_claude_config_dir()` - è·å–é…ç½®ç›®å½•è·¯å¾„
  - [ ] `read_settings()` / `write_settings()` - settings.json ç®¡ç†
  - [ ] `read_claude_md()` / `write_claude_md()` - CLAUDE.md ç®¡ç†
  - [ ] `backup_config()` - é…ç½®å¤‡ä»½åŠŸèƒ½
- [ ] å®ç° Skills ç®¡ç†å‘½ä»¤
  - [ ] `read_skill_registry()` / `write_skill_registry()` - æ³¨å†Œè¡¨ç®¡ç†
  - [ ] `read_skill_md()` - è¯»å– SKILL.md
  - [ ] `toggle_skill()` - å¯ç”¨/ç¦ç”¨ skill
  - [ ] `uninstall_skill()` - å¸è½½ skill
  - [ ] `list_skill_files()` - åˆ—å‡º skill æ–‡ä»¶
- [ ] åœ¨ `lib.rs` ä¸­æ³¨å†Œæ‰€æœ‰å‘½ä»¤
- [ ] æ›´æ–° `Cargo.toml` ä¾èµ–ï¼ˆserde, serde_json, chronoï¼‰

### 1.2 å‰ç«¯åŸºç¡€æ¶æ„
- [ ] å®‰è£…æ ¸å¿ƒä¾èµ–
  - [ ] react-router-domï¼ˆè·¯ç”±ç®¡ç†ï¼‰
  - [ ] jotaiï¼ˆçŠ¶æ€ç®¡ç†ï¼‰
  - [ ] @monaco-editor/reactï¼ˆä»£ç ç¼–è¾‘å™¨ï¼‰
  - [ ] react-markdownï¼ˆMarkdown æ¸²æŸ“ï¼‰
  - [ ] lucide-reactï¼ˆå›¾æ ‡åº“ï¼‰
  - [ ] shadcn/uiï¼ˆUI ç»„ä»¶åº“ï¼‰
- [ ] åˆå§‹åŒ– shadcn/ui
  - [ ] è¿è¡Œ `npx shadcn@latest init` é…ç½®é¡¹ç›®
  - [ ] å®‰è£…å¸¸ç”¨ç»„ä»¶ï¼ˆButton, Card, Dialog, Input, Switch, Tabs ç­‰ï¼‰
- [ ] åˆ›å»º TypeScript ç±»å‹å®šä¹‰
  - [ ] `types/settings.ts` - Settings ç±»å‹
  - [ ] `types/skills.ts` - Skills ç±»å‹
- [ ] åˆ›å»º Jotai Atoms
  - [ ] `store/settingsAtoms.ts` - è®¾ç½®çŠ¶æ€åŸå­
  - [ ] `store/skillsAtoms.ts` - Skills çŠ¶æ€åŸå­
  - [ ] `store/uiAtoms.ts` - UI çŠ¶æ€åŸå­
- [ ] é…ç½®è·¯ç”±ç³»ç»Ÿï¼ˆ`router/index.tsx`ï¼‰

### 1.3 æ ¸å¿ƒç»„ä»¶å¼€å‘
- [ ] å¸ƒå±€ç»„ä»¶
  - [ ] `Layout.tsx` - ä¸»å¸ƒå±€ï¼ˆä¾§è¾¹æ  + å†…å®¹åŒºï¼‰
  - [ ] `Sidebar.tsx` - å¯¼èˆªä¾§è¾¹æ 
- [ ] é€šç”¨ç»„ä»¶
  - [ ] `MarkdownEditor.tsx` - Monaco Editor å°è£…
  - [ ] `SkillCard.tsx` - Skill å¡ç‰‡ç»„ä»¶

## ä¸­æœŸç›®æ ‡ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰

### 2.1 é…ç½®ç®¡ç†åŠŸèƒ½
- [ ] ä»ªè¡¨æ¿é¡µé¢ï¼ˆ`pages/Dashboard.tsx`ï¼‰
  - [ ] æ˜¾ç¤ºé…ç½®æ¦‚è§ˆï¼ˆæ’ä»¶æ•°é‡ã€skills æ•°é‡ï¼‰
  - [ ] æ˜¾ç¤ºæœ€è¿‘æ›´æ–°çš„ skills
  - [ ] å¿«é€Ÿæ“ä½œæŒ‰é’®
- [ ] é€šç”¨è®¾ç½®é¡µé¢ï¼ˆ`pages/Settings/General.tsx`ï¼‰
  - [ ] è¡¨å•å±•ç¤º settings.json å„å­—æ®µ
  - [ ] è¾“å…¥éªŒè¯å’Œé”™è¯¯æç¤º
  - [ ] ä¿å­˜å’Œå¤‡ä»½åŠŸèƒ½
- [ ] å…¨å±€æŒ‡ä»¤ç¼–è¾‘é¡µé¢ï¼ˆ`pages/Settings/Instructions.tsx`ï¼‰
  - [ ] Monaco Editor é›†æˆ
  - [ ] åˆ†å±å¸ƒå±€ï¼ˆç¼–è¾‘å™¨ + é¢„è§ˆï¼‰
  - [ ] Ctrl+S å¿«æ·é”®ä¿å­˜
  - [ ] è¯­æ³•é«˜äº®å’Œè‡ªåŠ¨è¡¥å…¨

### 2.2 Skills ç®¡ç†åŠŸèƒ½
- [ ] Skills åˆ—è¡¨é¡µé¢ï¼ˆ`pages/Skills/List.tsx`ï¼‰
  - [ ] å¡ç‰‡å¼å±•ç¤ºæ‰€æœ‰ skills
  - [ ] æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½
  - [ ] å¯ç”¨/ç¦ç”¨å¼€å…³
  - [ ] å¸è½½æŒ‰é’®ï¼ˆå¸¦ç¡®è®¤å¯¹è¯æ¡†ï¼‰
- [ ] Skill è¯¦æƒ…é¡µé¢ï¼ˆ`pages/Skills/Detail.tsx`ï¼‰
  - [ ] æ˜¾ç¤º SKILL.md å†…å®¹ï¼ˆMarkdown æ¸²æŸ“ï¼‰
  - [ ] æ˜¾ç¤ºå…ƒæ•°æ®ï¼ˆå®‰è£…æ—¶é—´ã€ä»“åº“åœ°å€ã€commit hashï¼‰
  - [ ] åˆ—å‡ºåŒ…å«çš„æ–‡ä»¶ï¼ˆscriptsã€referencesï¼‰
  - [ ] "åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ‰“å¼€"åŠŸèƒ½

### 2.3 UI/UX ä¼˜åŒ–
- [ ] åŠ è½½çŠ¶æ€æç¤ºï¼ˆSkeleton ç»„ä»¶ï¼‰
- [ ] é”™è¯¯å¤„ç†å’Œ Toast é€šçŸ¥
- [ ] å“åº”å¼è®¾è®¡ï¼ˆæ”¯æŒä¸åŒå±å¹•å°ºå¯¸ï¼‰
- [ ] äº®è‰²/æš—è‰²ä¸»é¢˜æ”¯æŒ

## é•¿æœŸç›®æ ‡ï¼ˆç¬¬ä¸‰é˜¶æ®µï¼‰

### 3.1 é«˜çº§åŠŸèƒ½
- [ ] Skill å®‰è£…åŠŸèƒ½
  - [ ] ä» Git ä»“åº“å®‰è£…
  - [ ] å®‰è£…è¿›åº¦æ˜¾ç¤º
  - [ ] è‡ªåŠ¨æ›´æ–° skill-registry.json
- [ ] Keybindings å¯è§†åŒ–ç¼–è¾‘
  - [ ] è¯»å– `~/.claude/keybindings.json`
  - [ ] å¯è§†åŒ–ç¼–è¾‘å¿«æ·é”®
  - [ ] å†²çªæ£€æµ‹
- [ ] MCP Servers ç®¡ç†
  - [ ] è¯»å– MCP é…ç½®
  - [ ] å¯ç”¨/ç¦ç”¨ MCP æœåŠ¡å™¨
  - [ ] é…ç½® MCP å‚æ•°

### 3.2 é…ç½®åŒæ­¥å’Œå¤‡ä»½
- [ ] é…ç½®å¯¼å‡º/å¯¼å…¥åŠŸèƒ½
- [ ] è‡ªåŠ¨å¤‡ä»½æœºåˆ¶ï¼ˆå®šæœŸå¤‡ä»½ï¼‰
- [ ] å¤‡ä»½å†å²ç®¡ç†
- [ ] Git åŒæ­¥æ”¯æŒï¼ˆå¯é€‰ï¼‰

### 3.3 ç”¨æˆ·ä½“éªŒå¢å¼º
- [ ] é…ç½®æ¨¡æ¿ç³»ç»Ÿ
  - [ ] é¢„è®¾å¸¸ç”¨é…ç½®æ¨¡æ¿
  - [ ] ä¸€é”®åº”ç”¨æ¨¡æ¿
  - [ ] è‡ªå®šä¹‰æ¨¡æ¿
- [ ] æœç´¢å’Œè¿‡æ»¤å¢å¼º
  - [ ] å…¨å±€æœç´¢ï¼ˆè·¨é…ç½®å’Œ skillsï¼‰
  - [ ] é«˜çº§è¿‡æ»¤é€‰é¡¹
- [ ] é”®ç›˜å¿«æ·é”®è‡ªå®šä¹‰
- [ ] å¤šè¯­è¨€æ”¯æŒï¼ˆi18nï¼‰

### 3.4 æµ‹è¯•å’Œæ‰“åŒ…
- [ ] å•å…ƒæµ‹è¯•ï¼ˆRust å‘½ä»¤ï¼‰
- [ ] é›†æˆæµ‹è¯•ï¼ˆå‰åç«¯äº¤äº’ï¼‰
- [ ] macOS å¹³å°æµ‹è¯•
- [ ] æ‰“åŒ…é…ç½®ä¼˜åŒ–
- [ ] ç”Ÿæˆ macOS å®‰è£…åŒ…ï¼ˆ.dmgï¼‰

## æŠ€æœ¯æ ˆ

### åç«¯
- **Tauri 2** - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- **Rust** - ç³»ç»Ÿç¼–ç¨‹è¯­è¨€
- **serde / serde_json** - JSON åºåˆ—åŒ–/ååºåˆ—åŒ–
- **chrono** - æ—¶é—´å¤„ç†

### å‰ç«¯
- **React 19** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **shadcn/ui** - UI ç»„ä»¶åº“
- **React Router** - è·¯ç”±ç®¡ç†
- **Jotai** - çŠ¶æ€ç®¡ç†ï¼ˆåŸå­åŒ–ï¼‰
- **Monaco Editor** - ä»£ç ç¼–è¾‘å™¨
- **react-markdown** - Markdown æ¸²æŸ“
- **lucide-react** - å›¾æ ‡åº“

### å¼€å‘å·¥å…·
- **ESLint / Prettier** - ä»£ç æ ¼å¼åŒ–
- **Clippy / rustfmt** - Rust ä»£ç æ£€æŸ¥
- **Vitest** - å‰ç«¯æµ‹è¯•
- **cargo test** - Rust æµ‹è¯•

## ä¾èµ–é¡¹

### Rust ä¾èµ–ï¼ˆCargo.tomlï¼‰
```toml
[dependencies]
tauri = { version = "2", features = ["macos-private-api"] }
tauri-plugin-opener = "2"
tauri-plugin-dialog = "2"
tauri-plugin-fs = "2"
serde = { version = "1", features = ["derive"] }
serde_json = "1"
chrono = "0.4"
```

### å‰ç«¯ä¾èµ–ï¼ˆpackage.jsonï¼‰
```json
{
  "dependencies": {
    "react": "^19.1.0",
    "react-dom": "^19.1.0",
    "react-router-dom": "^6.x",
    "@tauri-apps/api": "^2",
    "@tauri-apps/plugin-opener": "^2",
    "@tauri-apps/plugin-dialog": "^2",
    "@tauri-apps/plugin-fs": "^2",
    "jotai": "^2.x",
    "react-markdown": "^9.x",
    "@monaco-editor/react": "^4.x",
    "lucide-react": "^0.x",
    "tailwindcss": "^3.x",
    "class-variance-authority": "^0.7.x",
    "clsx": "^2.x",
    "tailwind-merge": "^2.x"
  }
}
```

## é£é™©ä¸æŒ‘æˆ˜

### æŠ€æœ¯é£é™©
1. **æ–‡ä»¶ç³»ç»Ÿæƒé™**
   - é£é™©ï¼šmacOS æ²™ç›’å’Œæƒé™é™åˆ¶
   - ç¼“è§£ï¼šæ­£ç¡®é…ç½® Tauri æƒé™ï¼Œä½¿ç”¨ macOS åŸç”Ÿ API

2. **é…ç½®æ–‡ä»¶å…¼å®¹æ€§**
   - é£é™©ï¼šClaude Code é…ç½®æ ¼å¼å¯èƒ½å˜åŒ–
   - ç¼“è§£ï¼šç‰ˆæœ¬æ£€æµ‹æœºåˆ¶ï¼Œå‘åå…¼å®¹å¤„ç†

3. **å¤§æ–‡ä»¶ç¼–è¾‘æ€§èƒ½**
   - é£é™©ï¼šç¼–è¾‘å¤§å‹ CLAUDE.md æ–‡ä»¶å¯èƒ½å¡é¡¿
   - ç¼“è§£ï¼šä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼Œä¼˜åŒ– Monaco Editor é…ç½®

### ç”¨æˆ·ä½“éªŒé£é™©
1. **å­¦ä¹ æ›²çº¿**
   - é£é™©ï¼šç”¨æˆ·ä¸ç†Ÿæ‚‰å›¾å½¢ç•Œé¢æ“ä½œ
   - ç¼“è§£ï¼šæä¾›è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£å’Œå·¥å…·æç¤º

2. **æ•°æ®å®‰å…¨**
   - é£é™©ï¼šè¯¯æ“ä½œå¯¼è‡´é…ç½®ä¸¢å¤±
   - ç¼“è§£ï¼šè‡ªåŠ¨å¤‡ä»½æœºåˆ¶ï¼Œå±é™©æ“ä½œäºŒæ¬¡ç¡®è®¤

### é¡¹ç›®ç®¡ç†é£é™©
1. **åŠŸèƒ½è”“å»¶**
   - é£é™©ï¼šåŠŸèƒ½éœ€æ±‚ä¸æ–­å¢åŠ ï¼Œå»¶è¿Ÿäº¤ä»˜
   - ç¼“è§£ï¼šä¸¥æ ¼æŒ‰é˜¶æ®µå¼€å‘ï¼ŒMVP ä¼˜å…ˆ

2. **macOS ç³»ç»Ÿå…¼å®¹æ€§**
   - é£é™©ï¼šä¸åŒ macOS ç‰ˆæœ¬çš„ API å·®å¼‚
   - ç¼“è§£ï¼šæ˜ç¡®æ”¯æŒçš„æœ€ä½ macOS ç‰ˆæœ¬ï¼Œå……åˆ†æµ‹è¯•

## æˆåŠŸæŒ‡æ ‡

### åŠŸèƒ½å®Œæ•´æ€§
- âœ… æ”¯æŒæ‰€æœ‰æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„è¯»å†™
- âœ… æ”¯æŒ Skills çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†
- âœ… æä¾›å‹å¥½çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ

### æ€§èƒ½æŒ‡æ ‡
- åº”ç”¨å¯åŠ¨æ—¶é—´ < 2 ç§’
- é…ç½®åŠ è½½æ—¶é—´ < 500ms
- Skills åˆ—è¡¨æ¸²æŸ“ï¼ˆ20+ skillsï¼‰< 1 ç§’
- å¤§æ–‡ä»¶ç¼–è¾‘ï¼ˆ1000+ è¡Œï¼‰æµç•…æ— å¡é¡¿

### ç”¨æˆ·ä½“éªŒ
- ç•Œé¢å“åº”æ—¶é—´ < 100ms
- æ‰€æœ‰æ“ä½œæä¾›å³æ—¶åé¦ˆ
- é”™è¯¯ä¿¡æ¯æ¸…æ™°æ˜“æ‡‚
- æ”¯æŒé”®ç›˜å¿«æ·é”®æ“ä½œ

### è´¨é‡æŒ‡æ ‡
- ä»£ç æµ‹è¯•è¦†ç›–ç‡ > 70%
- æ— ä¸¥é‡ Bugï¼ˆP0/P1ï¼‰
- macOS å…¼å®¹æ€§ 100%ï¼ˆæ”¯æŒ macOS 12.0+ï¼‰

## æ›´æ–°æ—¥å¿—

- 2026-02-04: åˆ›å»ºè·¯çº¿å›¾æ–‡æ¡£
- 2026-02-04: å®Œæˆé¡¹ç›®è§„åˆ’å’Œæ¶æ„è®¾è®¡ï¼Œæ˜ç¡®ä¸‰ä¸ªé˜¶æ®µçš„å¼€å‘ç›®æ ‡
