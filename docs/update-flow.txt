自动更新流程图
================

用户视角:
┌─────────────────┐
│   启动应用      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 自动检查更新    │
└────────┬────────┘
         │
         ▼
    有新版本？
    ┌───┴───┐
    │       │
   是       否
    │       │
    ▼       ▼
┌─────┐  ┌─────┐
│显示 │  │继续 │
│通知 │  │使用 │
└──┬──┘  └─────┘
   │
   ▼
┌─────────────────┐
│ 显示更新对话框  │
│ - 版本号        │
│ - 更新日志      │
│ - 立即更新按钮  │
└────────┬────────┘
         │
    用户点击更新
         │
         ▼
┌─────────────────┐
│ 下载更新包      │
│ (显示进度)      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 验证签名        │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 安装更新        │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 自动重启应用    │
└─────────────────┘


开发者视角:
┌─────────────────┐
│ 开发新功能      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 更新版本号      │
│ make tag-release│
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 推送 Git Tag    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ GitHub Actions  │
│ 自动触发        │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 构建应用        │
│ - macOS         │
│ - Windows       │
│ - Linux         │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 签名更新包      │
│ (使用私钥)      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 创建 Release    │
│ - 上传安装包    │
│ - 上传签名文件  │
│ - 生成latest.json│
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 用户自动收到    │
│ 更新通知        │
└─────────────────┘
